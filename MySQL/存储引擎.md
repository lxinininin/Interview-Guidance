## MySQL 数据库引擎有哪些

mysql常用引擎包括: MyISAM, InnoDB, Memory, MERGE:

*   **MyISAM**: 全表锁, 拥有较高的执行速度, 不支持事务, 不支持外键, 并发性能差, 占用空间相对较小, 对事务完整性没有要求, 以 `SELECT`, `INSERT` 为主的应用基本上可以使用这引擎
*   **InnoDB**: 行级锁, 提供了具有提交, 回滚和崩溃回复能力的事务安全, 支持自动增长列, 支持外键约束, 并发能力强, 占用空间是 MyISAM 的 2.5 倍, 处理效率相对会差一些
*   **Memory**: 全表锁, 存储在内容中, 速度快, 但会占用和数据量成正比的内存空间且数据在 MySQL 重启时会丢失, 默认使用 HASH 索引, 检索效率非常高, 但不适用于精确查找, 主要用于 那些内容变化不频繁的代码表
*   **MERGE**: 是一组 MyISAM 表的组合

所有的存储引擎中只有 InnoDB 是事务性存储引擎，也就是说只有 InnoDB 支持事务



## 说说 InnoDB 与 MyISAM 有什么区别

**事务支持**

-   **InnoDB**：
    -   支持事务（Transactions），即支持ACID（原子性、一致性、隔离性、持久性）特性。
    -   支持提交（COMMIT）、回滚（ROLLBACK）和保存点（SAVEPOINT）。
-   **MyISAM**：
    -   不支持事务，所有操作立即生效，无法回滚。

**外键支持**

-   **InnoDB**：
    -   支持外键约束，可以定义外键关系，保证数据的参照完整性。
-   **MyISAM**：
    -   不支持外键约束。

**锁机制**

-   **InnoDB**：
    -   支持行级锁（Row-level locking），并发性能更好。
    -   支持MVCC（多版本并发控制），提高了并发事务处理的能力。
-   **MyISAM**：
    -   仅支持表级锁（Table-level locking），在高并发写操作时性能较差。

**备份和恢复**

-   **InnoDB**：
    -   支持崩溃恢复（Crash Recovery），由于其支持事务日志（redo log）和回滚日志（undo log），可以在崩溃后进行数据恢复。
    -   适合在线热备份。
-   **MyISAM**：
    -   不支持崩溃恢复，如果崩溃会导致数据丢失或表损坏。
    -   备份时需要锁表，不适合在线热备份。

**可靠性**

-   **InnoDB**：
    -   更可靠，适合需要高可靠性和数据完整性的应用。
    -   数据存储在表空间（tablespace）中，可以配置为多个文件或单个文件。
-   **MyISAM**：
    -   可靠性较低，适合以读操作为主的应用。

**性能**

-   **InnoDB**：
    -   在大量写操作、高并发环境下性能较好，行级锁和事务支持带来了更好的性能和并发控制。
    -   适合需要事务支持和高可靠性的应用，如金融系统、电子商务平台等。
-   **MyISAM**：
    -   在读操作频繁、写操作较少的环境下性能较好。
    -   表级锁在读操作为主的场景中效率较高，如数据仓库、报表系统等。

**全文索引**

-   **InnoDB**：
    -   从MySQL 5.6版本开始支持全文索引（Full-text Index），但在早期版本中不支持。
-   **MyISAM**：
    -   一直支持全文索引，适合搜索应用。

**数据存储和索引**

-   **InnoDB**：
    -   使用聚簇索引（Clustered Index），数据和主键索引存储在一起。
    -   支持自动增长的主键（AUTO_INCREMENT）。
-   **MyISAM**：
    -   使用非聚簇索引，数据和索引分开存储。
    -   AUTO_INCREMENT列在表级别实现。

**总结**

-   **InnoDB**：适用于需要高可靠性、高并发、事务支持和外键约束的应用。它提供了更强的安全性和数据完整性保证，是现代Web应用和企业级应用的首选。
-   **MyISAM**：适用于读操作频繁、写操作较少、不需要事务和外键约束的应用。它在查询性能和全文索引方面有一定优势，适合数据仓库和搜索引擎等应用。

选择合适的存储引擎需要根据具体的应用需求进行权衡。InnoDB在许多现代应用中逐渐成为默认选择，但MyISAM在特定场景下仍有其独特的优势。